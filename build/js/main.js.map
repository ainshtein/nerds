{"version":3,"sources":["main.js"],"names":["init","myMap","ymaps","Map","center","zoom","controls","myPlacemark","Placemark","hintContent","balloonContent","iconLayout","iconImageHref","iconImageSize","iconImageOffset","behaviors","disable","geoObjects","add","link","document","querySelector","popup","overlay","close","userName","userEmail","userText","form","storageName","localStorage","getItem","storageEmail","addEventListener","event","preventDefault","classList","value","focus","remove","window","keyCode","contains","setItem","offsetWidth","ready"],"mappings":"AAqFI,QAASA,QACP,GAAIC,GAAQ,GAAIC,OAAMC,IAAI,OACpBC,QAAS,kBAAkB,oBAC3BC,KAAM,GACNC,cAGFC,EAAc,GAAIL,OAAMM,WACzB,mBAAmB,qBAClBC,YAAa,sBACdC,eAAgB,6BAGjBC,WAAY,gBACZC,cAAe,wBACfC,eAAgB,IAAK,KACrBC,iBAAkB,KAAK,MAGzBb,GAAMc,UAAUC,SAAS,eAEzBf,EAAMgB,WAAWC,IAAIX,GAzG3B,GAAIY,MAAOC,SAASC,cAAc,cAC9BC,MAAQF,SAASC,cAAc,kBAC/BE,QAAUH,SAASC,cAAc,kBACjCG,MAAQF,MAAMD,cAAc,yBAC5BI,SAAWH,MAAMD,cAAc,oBAC/BK,UAAYJ,MAAMD,cAAc,qBAChCM,SAAWL,MAAMD,cAAc,qBAC/BO,KAAON,MAAMD,cAAc,wBAC3BQ,YAAcC,aAAaC,QAAQ,aACnCC,aAAeF,aAAaC,QAAQ,aAExCZ,MAAKc,iBAAiB,QAAS,SAASC,GACtCA,EAAMC,iBACNZ,QAAQa,UAAUlB,IAAI,uBACtBI,MAAMc,UAAUlB,IAAI,uBACjBW,aAAeG,cAChBP,SAASY,MAAQR,YACjBH,UAAUW,MAAQL,aAClBL,SAASW,SACDT,aAAeG,cACpBH,cACDJ,SAASY,MAAQR,YACjBH,UAAUY,SAETN,eACDN,UAAUW,MAAQL,aAClBP,SAASa,UAGXb,SAASa,UAgBbd,MAAMS,iBAAiB,QAAS,SAASC,GACvCA,EAAMC,iBACNb,MAAMc,UAAUG,OAAO,uBACvBhB,QAAQa,UAAUG,OAAO,uBACzBjB,MAAMc,UAAUG,OAAO,iBAGzBhB,QAAQU,iBAAiB,QAAS,SAASC,GACzCA,EAAMC,iBACNb,MAAMc,UAAUG,OAAO,uBACvBhB,QAAQa,UAAUG,OAAO,uBACzBjB,MAAMc,UAAUG,OAAO,iBAGzBC,OAAOP,iBAAiB,UAAW,SAASC,GACrB,KAAlBA,EAAMO,SACJnB,MAAMc,UAAUM,SAAS,yBAC1BpB,MAAMc,UAAUG,OAAO,uBACvBhB,QAAQa,UAAUG,OAAO,uBACzBjB,MAAMc,UAAUG,OAAO,kBAK7BX,KAAKK,iBAAiB,SAAU,SAASC,GACnCT,SAASY,OAAUX,UAAUW,OAAUV,UAMzCG,aAAaa,QAAQ,YAAalB,SAASY,OAC3CP,aAAaa,QAAQ,aAAcjB,UAAUW,SAN7CH,EAAMC,iBACNb,MAAMc,UAAUG,OAAO,eACvBjB,MAAMsB,YAActB,MAAMsB,YAC1BtB,MAAMc,UAAUlB,IAAI,kBAQxBhB,MAAM2C,MAAM7C","file":"main.js","sourcesContent":["// -------- POPUP ------- //\r\nvar link = document.querySelector(\"#writeToUs\");\r\nvar popup = document.querySelector(\".modal-content\");\r\nvar overlay = document.querySelector(\".modal-overlay\");\r\nvar close = popup.querySelector(\".modal-content__close\");\r\nvar userName = popup.querySelector(\"#user-name-field\");\r\nvar userEmail = popup.querySelector(\"#user-email-field\");\r\nvar userText = popup.querySelector(\"#email-text-field\");\r\nvar form = popup.querySelector(\".modal-content__form\");\r\nvar storageName = localStorage.getItem(\"user-name\");\r\nvar storageEmail = localStorage.getItem(\"user-email\");\r\n\r\nlink.addEventListener(\"click\", function(event) {\r\n  event.preventDefault();\r\n  overlay.classList.add(\"modal-overlay__show\");\r\n  popup.classList.add(\"modal-content__show\");\r\n  if(storageName && storageEmail) {\r\n    userName.value = storageName;\r\n    userEmail.value = storageEmail;\r\n    userText.focus();\r\n  } else if(storageName || storageEmail) {\r\n    if(storageName) {\r\n      userName.value = storageName;\r\n      userEmail.focus();\r\n    }\r\n    if(storageEmail) {\r\n      userEmail.value = storageEmail;\r\n      userName.focus();\r\n    }\r\n  } else {\r\n    userName.focus();\r\n  };\r\n  // if(storageName) {\r\n  //   userName.value = storageName;\r\n  //   userEmail.focus();\r\n  // } else {\r\n  //   userName.focus();\r\n  // };\r\n  // if(storageEmail) {\r\n  //   userEmail.value = storageEmail;\r\n  //   userText.focus();\r\n  // } else {\r\n  //   userEmail.focus();\r\n  // };\r\n});\r\n\r\nclose.addEventListener(\"click\", function(event) {\r\n  event.preventDefault();\r\n  popup.classList.remove(\"modal-content__show\");\r\n  overlay.classList.remove(\"modal-overlay__show\");\r\n  popup.classList.remove(\"modal-error\");\r\n});\r\n\r\noverlay.addEventListener(\"click\", function(event) {\r\n  event.preventDefault();\r\n  popup.classList.remove(\"modal-content__show\");\r\n  overlay.classList.remove(\"modal-overlay__show\");\r\n  popup.classList.remove(\"modal-error\");\r\n});\r\n\r\nwindow.addEventListener(\"keydown\", function(event) {\r\n  if(event.keyCode === 27) {\r\n    if(popup.classList.contains(\"modal-content__show\")) {\r\n      popup.classList.remove(\"modal-content__show\");\r\n      overlay.classList.remove(\"modal-overlay__show\");\r\n      popup.classList.remove(\"modal-error\");\r\n    }\r\n  }\r\n});\r\n\r\nform.addEventListener(\"submit\", function(event) {\r\n  if(!userName.value || !userEmail.value || !userText) {\r\n    event.preventDefault();\r\n    popup.classList.remove(\"modal-error\");\r\n    popup.offsetWidth = popup.offsetWidth;\r\n    popup.classList.add(\"modal-error\");\r\n  } else {\r\n    localStorage.setItem(\"user-name\", userName.value);\r\n    localStorage.setItem(\"user-email\", userEmail.value);\r\n  }\r\n});\r\n\r\n// -------- MAP ------- //\r\nymaps.ready(init);\r\n\r\n    function init(){\r\n      var myMap = new ymaps.Map(\"map\", {\r\n            center: [59.93893306516795,30.320630078960445],\r\n            zoom: 17,\r\n            controls: []\r\n        });\r\n\r\n      var myPlacemark = new ymaps.Placemark(\r\n        [59.938518540269264,30.321048503566757],\r\n        { hintContent: 'NЁRDS DESIGN STUDIO',\r\n         balloonContent: 'Студия веб-дизайна NЁRDS'\r\n       },\r\n       {\r\n        iconLayout: 'default#image',\r\n        iconImageHref: '../img/map-marker.png',\r\n        iconImageSize: [231, 190],\r\n        iconImageOffset: [120, -220]\r\n       });\r\n\r\n      myMap.behaviors.disable(['scrollZoom']);\r\n\r\n      myMap.geoObjects.add(myPlacemark);\r\n    }\r\n"],"sourceRoot":"/source/"}